<!DOCTYPE html>
<html lang="en">
<head>
    <title>Rooms</title>
    <style> #roomsnav { color: #ffffff !important; font-weight: bolder; } </style>
    <%- include('./partials/head') %>
</head>
<body class="">

    <!-- Header Start -->
    <%- include('./partials/header') %>
    <!-- Header End -->

    <!-- Main Start -->
    <main>
        <section class="text-bg-dark pb-4">
            <div class="container mt-5 pt-2">
                <div class="text-center my-5">
                    <h1><b>Rooms</b></h1>
                    <h2>Welcome!, <%= UserData.firstname + " " + UserData.lastname %> </h2>
                </div>
            </div>
        </section>

        <section class="bgtable py-4 table-responsive table-responsive-sm">
            <table id="data-table" class="container table table-hover">
                <thead>
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Room Type</th>
                        <th scope="col">Number of Guests</th>
                        <th scope="col">Price (Per Day)</th>
                        <th scope="col">Book</th>
                    </tr>
                </thead>
    
                <tbody>
                    <% let count = 1; %>
                    <% RoomData.forEach(function(RoomData) { %>
                    <tr>
                        <th scope="row"><%= count %></th>
                        <td><%= RoomData.roomtype %></td>
                        <td><%= RoomData.guests %></td>
                        <td><%= RoomData.price + " THB" %></td>
                        <td>
                            <a href="/booking/<%= RoomData._id %>" type="submit"><button class="btn btn-dark" value="<%= count %>" id="bookBtn" onclick="" title="Book" style="width: auto; height: auto;">Book</button></a>
                        </td>
                    </tr>
                    <% count++ %>
                    <% }); %>
                    
                </tbody>
            </table>
        </section>
    </main>
    <!-- Main End -->

    <!-- Footer Start -->
        <%- include('./partials/footer') %>
    <!-- Footer End -->

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
    <script src="/js/app.js"></script>
    <script>
        window.onload = function() {
            const params = new URLSearchParams(window.location.search);
            const alertMessage = params.get('alert');
            if (alertMessage) {
                alert(alertMessage);
            }
        }
    </script>
</body>
</html>